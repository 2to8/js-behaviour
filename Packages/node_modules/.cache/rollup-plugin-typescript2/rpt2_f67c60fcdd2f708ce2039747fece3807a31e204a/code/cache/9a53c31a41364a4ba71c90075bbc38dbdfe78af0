{"code":"import { $typeof } from \"puerts\";\r\nimport { compInfoMgr } from \"./component-info-mgr\";\r\n/**\r\n * 组件类修饰器工厂，应用在非静态类上\r\n * @param componentPath 组件在编辑器的inspector面板显示的索引路径\r\n * @returns 组件修饰器\r\n */\r\nexport function component(componentPath) {\r\n    return function (constructor) {\r\n        compInfoMgr.registerComponent(constructor.name, constructor, componentPath);\r\n        constructor.prototype.componentInfo = compInfoMgr.getComponentInfo(constructor.name);\r\n    };\r\n}\r\nexport function property(arg) {\r\n    return function (target, propertyKey) {\r\n        let propInfo = null;\r\n        if (typeof arg === 'function') {\r\n            propInfo = {\r\n                name: propertyKey,\r\n                type: $typeof(arg).FullName,\r\n                isArray: false,\r\n            };\r\n        }\r\n        else if (Array.isArray(arg)) {\r\n            propInfo = {\r\n                name: propertyKey,\r\n                type: $typeof(arg[0]).FullName,\r\n                isArray: true,\r\n            };\r\n        }\r\n        else {\r\n            const isArray = Array.isArray(arg.type);\r\n            propInfo = {\r\n                name: propertyKey,\r\n                type: isArray ? $typeof(arg.type[0]).FullName : $typeof(arg.type).FullName,\r\n                isArray: (arg.isArray === null || arg.isArray === undefined) ? isArray : arg.isArray,\r\n                editable: arg.editable\r\n            };\r\n        }\r\n        compInfoMgr.addPropertyToComponent(target.constructor.name, propInfo);\r\n    };\r\n}\r\n//# sourceMappingURL=component-decoration.js.map","references":["/mnt/f/CubeWars/samples/js-behaviour/Packages/typings/puerts/index.d.ts","/mnt/f/CubeWars/samples/js-behaviour/Packages/src/component/component-info-mgr.ts"],"map":"{\"version\":3,\"file\":\"component-decoration.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/component/component-decoration.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,QAAQ,CAAC;AACjC,OAAO,EAAE,WAAW,EAA6B,MAAM,sBAAsB,CAAA;AAE7E;;;;GAIG;AACH,MAAM,UAAU,SAAS,CAAC,aAAsB;IAC5C,OAAO,UAAS,WAAqB;QACjC,WAAW,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,EAAE,WAA0B,EAAE,aAAa,CAAC,CAAC;QAC3F,WAAW,CAAC,SAAS,CAAC,aAAa,GAAG,WAAW,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACzF,CAAC,CAAA;AACL,CAAC;AAoBD,MAAM,UAAU,QAAQ,CAAC,GAAQ;IAC7B,OAAO,UAAS,MAAW,EAAE,WAAmB;QAC5C,IAAI,QAAQ,GAAiB,IAAI,CAAC;QAClC,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;YAC3B,QAAQ,GAAG;gBACP,IAAI,EAAE,WAAW;gBACjB,IAAI,EAAE,OAAO,CAAE,GAAmB,CAAC,CAAC,QAAQ;gBAC5C,OAAO,EAAE,KAAK;aACjB,CAAC;SACL;aACI,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;YACzB,QAAQ,GAAG;gBACP,IAAI,EAAE,WAAW;gBACjB,IAAI,EAAE,OAAO,CAAE,GAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ;gBACjD,OAAO,EAAE,IAAI;aAChB,CAAC;SACL;aACI;YACD,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACxC,QAAQ,GAAG;gBACP,IAAI,EAAE,WAAW;gBACjB,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAE,GAAG,CAAC,IAAsB,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAE,GAAG,CAAC,IAAoB,CAAC,CAAC,QAAQ;gBAC9G,OAAO,EAAE,CAAC,GAAG,CAAC,OAAO,KAAK,IAAI,IAAI,GAAG,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO;gBACpF,QAAQ,EAAE,GAAG,CAAC,QAAQ;aACzB,CAAC;SACL;QACD,WAAW,CAAC,sBAAsB,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC1E,CAAC,CAAA;AACL,CAAC\"}"}
